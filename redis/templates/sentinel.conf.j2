# Generated by Ansible
# sentinel_{{ redis_sentinel_port }}.conf

supervised systemd
protected-mode {{ redis_sentinel_protected_mode }}
dir {{ redis_sentinel_dir }}
pidfile {{ redis_sentinel_pidfile }}
port {{ redis_sentinel_port }}


# Security
{% if redis_sentinel_password %}
requirepass {{ redis_sentinel_password }}
{% endif %}

sentinel monitor {{ sentinel_master_name }} {{ redis_masterip}} {{ redis_port }} 2
sentinel down-after-milliseconds {{ sentinel_master_name }} 5000

sentinel parallel-syncs {{ sentinel_master_name }} 1
#elegible number of replicas for failover
sentinel parallel-syncs {{ sentinel_master_name }} 1
sentinel failover-timeout {{ sentinel_master_name }} 60000


sentinel auth-user {{ sentinel_master_name }} {{ redis_replica_user }}
sentinel auth-pass {{ sentinel_master_name }} {{ redis_replica_password }}

logfile {{ redis_sentinel_logfile }}
# Keep Default as it is
user admin on >adminpass ~* &* +@all
user replicauser on >replicapass ~* &* +@all



